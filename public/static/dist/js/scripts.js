function isHTML(a){var b=document.createElement("div");b.innerHTML=a;for(var c=b.childNodes,d=c.length;d--;)if(1==c[d].nodeType)return!0;return!1}var Footnotes={footnotetimeout:!1,setup:function(){var a=jQuery("[rel='footnote']");a.unbind("mouseover",Footnotes.footnoteover),a.unbind("mouseout",Footnotes.footnoteoout),a.bind("mouseover",Footnotes.footnoteover),a.bind("mouseout",Footnotes.footnoteoout)},footnoteover:function(){clearTimeout(Footnotes.footnotetimeout),jQuery("#footnotediv").stop(),jQuery("#footnotediv").remove();var a=jQuery(this).attr("href").substr(1),b=jQuery(this).offset(),c=jQuery(document.createElement("div"));c.attr("id","footnotediv"),c.bind("mouseover",Footnotes.divover),c.bind("mouseout",Footnotes.footnoteoout);var d=document.getElementById(a);c.html("<div>"+jQuery(d).html()+"</div>"),jQuery(document.body).append(c);var e=b.left;e+420>jQuery(window).width()+jQuery(window).scrollLeft()&&(e=jQuery(window).width()-420+jQuery(window).scrollLeft());var f=b.top+20;f+c.height()>jQuery(window).height()+jQuery(window).scrollTop()&&(f=b.top-c.height()-15),c.css({left:e,top:f,opacity:1,position:"absolute"})},footnoteoout:function(){Footnotes.footnotetimeout=setTimeout(function(){jQuery("#footnotediv").animate({opacity:0},300,function(){jQuery("#footnotediv").remove()})},100)},divover:function(){clearTimeout(Footnotes.footnotetimeout),jQuery("#footnotediv").stop(),jQuery("#footnotediv").css({opacity:1})}};jQuery(document).ready(function(){Footnotes.setup();var a,b,c,d,e="<h6>Table of Contents</h6><nav role='navigation'><ul>";$("article h4").each(function(){b=$(this),c=b.text(),d="#"+b.attr("id"),a="<li><a href='"+d+"'>"+c+"</a></li>",e+=a}),e+="</ul></nav>",$(".table-of-contents").prepend(e),$(".footnotes").prepend("<h5>References</h5>"),$("article.form form textarea").change(function(){$(".converted_md_txt").html(myFunc())}),$.fn.taggin=function(){$("<input />").attr({type:"text",class:"tagger",name:"tagger",placeholder:"A tag",autocomplete:"off"}).appendTo(this),$(".tagged").length<0&&($("<div>").attr({class:"tagged"}).prependTo(this),$("<ul>").appendTo(".tagged",this),$("<input>").attr({type:"hidden",class:"tags",name:"tags"}).appendTo(this)),$(".tags input.tagger").keypress(function(a){if(13==a.which){a.preventDefault();var b=$(this).val();new RegExp(b,"g");$("<li>"+b+'<span class="rm">x</span></li>').appendTo(".tagged ul");var c=$(".tags input.tags").val();if(0===c.length)var d=c.concat(b);else var d=c.concat(", "+b);$(".tags input.tags").val(d),$(this).val("")}}),this.on("click",".tagged ul li span.rm",function(){this.closest("li").remove();var a=$(this).closest("li").clone().children().remove().end().text();if($(".tags input.tags").val().toLowerCase().indexOf(a)>=0){if($(".tags input.tags").val().indexOf(", "+a)>=0){var b=new RegExp(", "+a,"g"),c=new RegExp(a,"g"),d=$(".tags input.tags").val().replace(b,""),d=d.replace(c,"");if(", "==d.substring(0,2))var d=d.replace(", ","")}else var e=new RegExp(a,"g"),d=$(".tags input.tags").val().replace(e,"");if(", "==d.substring(0,2))var d=d.replace(", ","");$(".tags input.tags").val(d)}})},$.fn.slugCreator=function(){var a="http://scif.ml.dev/post/",b=$(".url-viewer");$(this).on("keyup",function(){if($(this).val().length>0){b.css("display","inline-block");var c=$(this).val().toLowerCase().replace(/ /g,"-").replace(/[&\/\\#,+()$~%.'":*?<>{} ]/g,"");b.html('URL: <span class="link">'+a+c+'</a></span> <span><a href="#" class="modify_slug">Modify</a></span> <span><a href="'+a+c+'" target="_blank">View post</a></span>'),$(this).next().find('input[name="slug"]').val(c)}else b.hide()}),$(this).next().on("click","a.modify_slug",function(){$(this).closest(".url-viewer").next(".slug-input").attr({type:"text"})})},$("article.form form input").attr("autocomplete","off"),$("div.tags").taggin(),$(".slug-input-gen").slugCreator()}),function(a){"use strict";if("object"==typeof showdown)showdown.extension("footnotes",a());else if("function"==typeof define&&define.amd)define("footnotes",a());else{if("object"!=typeof exports)throw Error("Could not find showdown library");module.exports=a()}}(function(){function a(a,b,g){if(g.blockFootnotesExtension)return a;c=[],d={},e=[],f=[],a+="~0",a=a.replace(/¨/g,"¨T"),a=a.replace(/^ {0,3}\[\^(.+?)]:[ \t]?([\s\S]+?)(?=~0|\n {0,2}[\S]|^ {0,3}\[\^(.+?)]:)/gm,function(a,b,c){return b=b.replace(/\$/g,"¨D"),d[b]={content:c,wMatch:a},"¨F¨R¨S"+b+"¨F¨R¨E"}),a=a.replace(/\[\^(.+?)]/g,function(a,b){return b=b.replace(/\$/g,"¨D"),e.push(b),"¨F¨M¨S"+b+"¨F¨M¨E"});for(var h=0;h<e.length;++h){var i=e[h];d.hasOwnProperty(i)?(c.push({ref:i,content:d[i].content}),delete d[i]):f.push(i)}for(var j in d)d.hasOwnProperty(j)&&(a=a.replace(new RegExp("¨F¨R¨S"+j+"¨F¨R¨E","g"),d[j].wMatch));for(var k=0;k<f.length;++k){var l=f[k].replace(/¨D/g,"$");a=a.replace(new RegExp("¨F¨M¨S"+l+"¨F¨M¨E","g"),"[^"+l+"]")}return a=a.replace(/¨F¨R¨S(.+?)¨F¨R¨E/g,""),a=a.replace(/~0/,"")}function b(a,b,d){if(d.blockFootnotesExtension)return a;if(0===c.length)return a;var e='<div class="footnotes">\n<hr>\n<ol>\n';b.setOption("blockFootnotesExtension",!0);for(var f=0;f<c.length;++f){var j=f+1,k=c[f].ref,l=g.replace(/%1/g,j.toString());a=a.replace("¨F¨M¨S"+k+"¨F¨M¨E",l);var m=c[f].content.replace(/^ {0,3}/gm,"").trim();m=b.makeHtml(m+"\n"+i.replace(/%1/g,j.toString())),e+=h.replace(/%1/g,j.toString()).replace("%2",m)+"\n"}return b.setOption("blockFootnotesExtension",!1),e+="</ol>\n",e+="</div>\n",a=a.replace(/¨T/g,"¨"),a+"\n"+e}var c=[],d={},e=[],f=[],g='<sup id="fnref-%1"><a href="#fn-%1" rel="footnote" title="go to footnote">%1</a></sup>',h='<li id="fn-%1">%2</li>',i='<a href="#fnref-%1" class="footnote-backref" title="return to article">&#8617;</a>';return[{type:"lang",filter:a},{type:"output",filter:b}]});