{% extends "base.twig" %}

{% block aside_description %}
{% endblock %}

{% block content %}

<div class="post">
  <article>
    <div class="article-head">
      <h1>{{ data.post.title }}</h1>
        {% if data.post.intro is not empty %}<h5>{{ data.post.intro }}</h5>{% endif %}
        <div class="meta">
          created <span>{{ data.post.created_at|date('M j') }}<sup>{{ data.post.created_at|date('S') }}</sup> {{ data.post.created_at|date('Y') }}</span>
          {% if data.post.updated_at != data.post.created_at %} &bull; last update: <span>{{ data.post.updated_at|date('M j') }}<sup>{{ data.post.updated_at|date('S') }}</sup> {{ data.post.updated_at|date('Y') }}</span>{% endif %} &bull; progress: <span><a href="#" onclick="return false;">{{ data.post.progress }}</a></span> &bull; epistemic status: <span><a href="./Archives?epistemic={{ data.post.epistemic }}" onclick="return false;" title="See all post with “{{ data.post.epistemic }}” status">{{ data.post.epistemic }}</a><span class="tooltip"> <span style="cursor:pointer">(?)</span> <div class="tooltip-content"><p class="small">The <em>espitemic status</em> meta-tag matches the way I <strong>personally</strong> feel about what I think. It somehow shows my degree of confidence in the content I write.</a> It also allows me to keep track of my believe and see how often I change my opinion towards a particular subject.</p><p class="small"><a href="./About#Epistemic">learn more &raquo;</a></p></div></span></span> &bull; difficulty: <span class="squares"><span style="margin:0;" class="{% if data.post.difficulty is not empty %}{% if data.post.difficulty == '1' %}one{% elseif data.post.difficulty == '2' %}two{% elseif data.post.difficulty == '3' %}three{% elseif data.post.difficulty == '4' %}four{% endif %}{% endif %}"><i></i></span>{% if data.post.difficulty is not empty %}{% if data.post.difficulty == '1' %}trivial{% elseif data.post.difficulty == '2' %}technical{% elseif data.post.difficulty == '3' %}theoretical{% elseif data.post.difficulty == '4' %}academic{% endif %}{% endif %}</span></div>
        {% if data.tags is not empty %}<div class="www_tags"><strong>Tags:</strong> {{ data.tags|raw }}</div>{% endif %}
    </div>

      <div class="article-body">
          {% if data.post.toc %}<div class="table-of-contents"></div>{% endif %}
          {{ data.content | toHTML | raw }}
          {% if data.post.slug == 'Théorèmes' %}
            {% include 'extras/theorems.twig' %}
          {% endif %}
      </div>
      {% if auth.check %}
      <div class="admin-meta">
        <span><a href="{{ path_for('editor.edit.post', {id :  data.post.id}) }}">Edit</a></span>
      </div>
      {% endif %}
      {#
      <div class="comments" id="comments">
          {% if data.comments %}
          <h5>Comments &mdash; {% if data.post.extras.comment_counter_start is not empty %}{{ data.post.extras.comment_counter_start + data.comment_count }}{% else %}{{ data.comment_count }}{% endif %} so far.</h5>
          {% for data_comment in data.comments %}
          <div class="comment" id="comment-{{ data_comment.id }}" data-comment-id="{{ data_comment.id }}">
            {{ data_comment.content|raw }}
            <div class="meta">
              <p><a href="#comment-{{ data_comment.id }}" title="Direct link to this comment">by {{ data_comment.author }} on {{ data_comment.date|date('m/j/Y') }}</a></p>
            </div>
          </div>
          {% endfor %}
          {% else %}
          <h5>No comment.</h5>
          <div class="comment">
            <p><a href="#" onclick="javascript(return false)">Be the first to comment.</a></p>
          </div>
          {% endif %}
      </div>
      #}
  </article>
</div>
{% endblock %}
